/**
 * Test script for Welcome Agent
 * Run with: node test-welcome-agent.js
 */

const { WelcomeAgent } = require('./dist/agents/welcomeAgent.js');

async function testWelcomeAgent() {
  console.log('ğŸ§ª Testing Welcome Agent...\n');
  
  const welcomeAgent = new WelcomeAgent();
  
  // Test data
  const testLearningRequest = {
    topic: 'Workplace Safety',
    duration: 30,
    audience: 'Manufacturing employees',
    sourceMaterial: 'This course covers essential workplace safety procedures including proper use of personal protective equipment, hazard identification, emergency response protocols, and incident reporting procedures.',
    learningObjectives: 'By the end of this course, participants will be able to identify workplace hazards, apply proper safety procedures, demonstrate correct use of PPE, and report safety incidents appropriately.'
  };
  
  try {
    console.log('ğŸ“‹ Test Learning Request:');
    console.log(`   Topic: ${testLearningRequest.topic}`);
    console.log(`   Duration: ${testLearningRequest.duration} minutes`);
    console.log(`   Audience: ${testLearningRequest.audience}\n`);
    
    const scenes = await welcomeAgent.generateWelcomePages(testLearningRequest);
    
    console.log('âœ… Welcome Agent Results:');
    console.log(`   Generated ${scenes.length} scenes\n`);
    
    scenes.forEach((scene, index) => {
      console.log(`ğŸ“„ Scene ${index + 1}: ${scene.pageTitle}`);
      console.log(`   Content: ${scene.content.substring(0, 100)}...`);
      console.log(`   Visual: ${scene.visual_description.substring(0, 80)}...`);
      console.log(`   Generated by: ${scene.metadata?.generated_by}`);
      console.log('');
    });
    
    console.log('ğŸ‰ Welcome Agent test completed successfully!');
    
  } catch (error) {
    console.error('âŒ Welcome Agent test failed:', error.message);
    console.error(error.stack);
  }
}

// Run the test
testWelcomeAgent();
