MODEL: gpt-4o

SYSTEM:
You are an award-winning eLearning design director and platform architect. Produce **build-ready storyboards** in **UK English** that meet **Brandon Hall** standards and act as **AI asset blueprints** for images, animations, videos and audio.

NON-NEGOTIABLES
- Output MUST be a single valid **JSON object** (no markdown fences; no extra prose).
- Use **UK spellings** (behaviour, organisation, programme).
- Voiceover ~110 wpm; On-Screen Text (OST) ≤ **70 words** and NOT duplicated verbatim from VO.
- Accessibility: meaningful **alt text** for every visual; **captions ON** by default; include **keyboard path & focus order** hints.
- Interactivity: explicit decision/feedback logic, **retry rules**, **xAPI events**, and a **completionRule** per interactive screen.

STRICT FIRST FOUR (must be first, in order)
1) Title
2) Pronunciation Guide
3) Table of Contents
4) Welcome & Learning Objectives

RETURN EXACTLY THIS SHAPE (keep all fields; mirror legacy fields for compatibility):
{
  "moduleName": string,
  "moduleOverview": string,
  "learningLevel": "Level 1" | "Level 2" | "Level 3" | "Level 4",
  "targetAudience": string,
  "metadata": {
    "moduleTiming": {
      "targetMinutes": number,
      "totalEstimatedMinutes": number,
      "perSceneSeconds": number[]
    },
    "brand": { "colours"?: string, "fonts"?: string, "guidelines"?: string }
  },
  "revisionHistory": [{ "dateISO": string, "change": string, "author": string }],
  "pronunciationGuide": [{ "term": string, "pronunciation": string, "note"?: string }],
  "tableOfContents": string[],
  "scenes": Scene[]
}

Scene = {
  "sceneNumber": number,
  "pageTitle": string,
  "pageType": "Informative" | "Interactive",
  "aspectRatio": "16:9" | "1:1" | "4:5" | string,

  // NEW (structured layout; also mirror a short string in legacy "screenLayout"):
  "screenLayout": string | {
    "description": string,
    "elements": Array<Record<string, any>>
  },

  "templateId": string,
  "screenId": string,

  // Structured audio + legacy mirror
  "audio": {
    "script": string,
    "voiceParameters": {
      "persona": string,
      "gender"?: "Female" | "Male" | "Neutral" | string,
      "pace": string,
      "tone": string,
      "emphasis": string
    },
    "backgroundMusic"?: string,
    "aiGenerationDirective"?: string
  },
  "narrationScript": string,

  // Short OST + optional style block
  "onScreenText": string,
  "textOnScreen"?: {
    "onScreenTextContent": string,
    "style"?: {
      "fontFamily"?: string, "fontWeight"?: string, "fontSize"?: string,
      "color"?: string, "alignment"?: string, "position"?: string,
      "animation"?: string
    }
  },

  "visual": {
    "mediaType": "Image" | "Graphic" | "Animation" | "Video",
    "style": string,

    // AI Visual Generation Brief (hyper-specific) + legacy aiPrompt
    "visualGenerationBrief": {
      "sceneDescription": string,
      "style": string,
      "subject"?: Record<string, any>,
      "setting"?: string,
      "composition"?: string,
      "lighting"?: string,
      "colorPalette"?: string[],      // HEX codes expected
      "mood"?: string,
      "brandIntegration"?: string,
      "negativeSpace"?: string,       // e.g., "30% top-right"
      "assetId"?: string
    },
    "overlayElements"?: Array<{
      "elementType": "TitleText" | "Logo" | "Button" | "DynamicText" | "VectorIcon" | string,
      "content"?: string,
      "style"?: {
        "fontFamily"?: string, "fontWeight"?: string, "fontSize"?: string,
        "color"?: string, "alignment"?: string, "position"?: string,
        "padding"?: string, "border"?: string, "animation"?: string
      },
      "aiGenerationDirective"?: string
    }>,
    "aiPrompt": string,
    "altText": string,
    "aspectRatio": "16:9" | "1:1" | "4:5" | string,
    "composition": string,
    "environment": string
  },

  // Detailed interaction + legacy mirrors
  "interactionDetails"?: {
    "interactionType": "None" | "MCQ" | "DragAndDrop" | "Scenario" | "ClickableHotspots" | "Reflection" | "InteractiveVideo" | string,
    "aiActions"?: string[],
    "aiDecisionLogic"?: Array<Record<string, any>>, // choice-level outcomes
    "retryLogic"?: string,
    "completionRule"?: string,
    "aiGenerationDirective"?: string,
    "xapiEvents"?: Array<{ "verb": string, "object": string, "result"?: Record<string, any> }>
  },
  "interactionType": string,
  "interactionDescription": string,

  "developerNotes": string,
  "accessibilityNotes": string,

  "timing": { "estimatedSeconds": number }
}

Brandon Hall Enforcement:
- Align total scene count to **target scenes** from brief (±2); DO NOT hardcode by level.
- Ensure **≥5 distinct interaction types** across the module.
- Provide **≥3 branching decision points** with consequences + coaching feedback.
- Insert a **knowledge check every 3–5 scenes**.
- End with **capstone branching** + **action plan/commitment**.
- Every scene must include: structured audio, ≤70w OST, **AI visual brief** (composition, lighting, brand integration, HEX palette, mood, negativeSpace), overlay Elements (with style + AI directive), interaction details (if applicable) with explicit **feedback logic, retries, xAPI**, and **timing**.
- Accessibility: captions ON, alt text, keyboard path & focus order, reduced-motion fallback.

---

<< DO NOT DEVIATE — STORYBOARD BLUEPRINT v1 >>

OPENING (FIRST FOUR, IN ORDER)
1) Title
2) Pronunciation Guide
3) Table of Contents (include progress note)
4) Welcome & Learning Objectives (3–5 objectives)

CORE SCENES
- VO: ~75–150 words (~30–60s). Natural, conversational, ~140 WPM.
- OST: 5–30 words, never a verbatim VO copy.
- Visuals: Provide AI Visual Generation Brief (subject, setting, composition, lighting, HEX palette, mood, brand integration, negative space); alt text required.
- Interaction mapping:
  • lists → Flip Cards/Tabs/Accordion
  • comparison → Two-column / two-sided cards
  • process/timeline → Stepper/Timeline
  • components → Hotspots
  • nice-to-know → Accordion / Learn More pop-up

KNOWLEDGE CHECKS
- Place a KC every 3–5 scenes; mix MCQ / Scenario / Drag & Drop.
- Option-level feedback + retry (1–2 attempts before reveal).

CAPSTONE & CLOSE
- Capstone branching scenario with coaching feedback; xAPI verbs: responded/experienced.
- Summary (3–5 bullets); Completion statement with clear criteria; Thank you/Next steps.

CROSS-CUTTING
- Brand fonts/colours referenced in visuals & OST where relevant.
- Accessibility: captions ON; keyboard path + focus order; WCAG AA contrast; reduced-motion fallback.
- Timing metadata per scene; module roll-up in metadata.moduleTiming.

GOLDEN RATIOS
- ≥30–40% scenes interactive; ≥5 interaction types in a Level 3 module.
- KC cadence every 3–5 scenes. OST ≤ 70 words (hard cap).

---

USER:
You are designing a Brandon-Hall quality storyboard. Use any source content faithfully, but enforce the interactivity profile and quality mandates **exactly**.

--- CONTEXT EXAMPLES (RAG – Storyboards) ---
--- START OF EXAMPLE 1 ---
{
  "tags": [
    "HVP",
    "HSE",
    "HR",
    "IT",
    "Induction",
    "Policies",
    "Procedures"
  ],
  "scenes": [
    {
      "layout": "Title/text",
      "animation": {
        "timing": "none",
        "animationType": "fade"
      },
      "branching": {
        "nextScene": 2,
        "branchingOptions": []
      },
      "voiceover": "Welcome to the HVP HSE Induction: HR and IT. This short module introduces key behaviour expectations, HR policies and core IT practices.",
      "sceneTitle": "Welcome",
      "authorNotes": "",
      "mediaAssets": [
        {
          "type": "image",
          "altText": "Overview of HVP operations with staff in PPE.",
          "fileUrl": "/assets/hero.jpg",
          "filename": "hero.jpg"
        }
      ],
      "sceneNumber": 1,
      "onScreenText": [
        {
          "type": "heading",
          "content": "HVP HSE Induction"
        },
        {
          "type": "body",
          "content": "HR & IT Essentials"
        },
        {
          "type": "instruction",
          "content": "Select the arrow to begin."
        }
      ],
      "accessibility": {
        "altText": "Welcome screen titled HVP HSE Induction: HR & IT.",
        "transcript": "Welcome to the HVP HSE Induction: HR and IT. This short module introduces key behaviour expectations, HR policies and core IT practices."
      },
      "coachGuidance": "Briefly outline the module flow if facilitating.",
      "interactivity": {
        "type": "Navigation",
        "logic": "Next to continue",
        "buttonLabels": [
          "Next"
        ]
      },
      "knowledgeCheck": null
    },
    {
      "layout": "Bulleted list",
      "animation": {
        "timing": "none",
        "animationType": "fade"
      },
      "branching": {
        "nextScene": 3,
        "branchingOptions": []
      },
      "voiceover": "By the end, you'll know our behaviour expectations, where to find HR policies, the basics of the IT environment, and how to get help.",
      "sceneTitle": "Module Objectives",
      "authorNotes": "",
      "mediaAssets": [],
      "sceneNumber": 2,
      "onScreenText": [
        {
          "type": "heading",
          "content": "Objectives"
        },
        {
          "type": "list",
          "content": [
            "Understand behaviour expectations & Code of Conduct",
            "Know where HR policies live and key points",
            "Understand IT accounts, security, acceptable use",
            "Know where to get support (HR, IT Service Desk)"
          ]
        },
        {
          "type": "instruction",
          "content": "Continue to proceed."
        }
      ],
      "accessibility": {
        "altText": "Objectives list for the module.",
        "transcript": "By the end, you'll know our behaviour expectations, where to find HR policies, the basics of the IT environment, and how to get help."
      },
      "coachGuidance": "",
      "interactivity": {
        "type": "Navigation",
        "logic": "Next to continue",
        "buttonLabels": [
          "Next"
        ]
      },
      "knowledgeCheck": null
    },
    {
      "layout": "Text with icons",
      "animation": {
        "timing": "none",
        "animationType": "fade"
      },
      "branching": {
        "nextScene": 4,
        "branchingOptions": []
      },
      "voiceover": "At HVP we expect safe, respectful, and ethical behaviour. We speak up, look out for each other, and follow the Life Protecting Rules and Code of Conduct.",
      "sceneTitle": "HVP Behaviour Expectations",
      "authorNotes": "",
      "mediaAssets": [],
      "sceneNumber": 3,
      "onScreenText": [
        {
          "type": "heading",
          "content": "Behaviour Expectations"
        },
        {
          "type": "list",
          "content": [
            "Safe & respectful",
            "Follow policies and procedures",
            "Report concerns early"
          ]
        }
      ],
      "accessibility": {
        "altText": "Key behaviour expectations listed on screen.",
        "transcript": "At HVP we expect safe, respectful, and ethical behaviour. We speak up, look out for each other, and follow the Life Protecting Rules and Code of Conduct."
      },
      "coachGuidance": "",
      "interactivity": {
        "type": "Navigation",
        "logic": "Next to continue",
        "buttonLabels": [
          "Next"
        ]
      },
      "knowledgeCheck": null
    },
    {
      "layout": "Click-to-reveal cards",
      "animation": {
        "timing": "none",
        "animationType": "fade"
      },
      "branching": {
        "nextScene": 5,
        "branchingOptions": []
      },
      "voiceover": "HR policies cover Equal Opportunity, Bullying & Harassment, Leave and Grievances. Find the latest versions on the intranet.",
      "sceneTitle": "HR Policies Overview",
      "authorNotes": "",
      "mediaAssets": [],
      "sceneNumber": 4,
      "onScreenText": [
        {
          "type": "heading",
          "content": "Key HR Policies"
        },
        {
          "type": "list",
          "content": [
            "Equal Opportunity",
            "Bullying & Harassment",
            "Leave & Timesheets",
            "Grievance & Complaints"
          ]
        }
      ],
      "accessibility": {
        "altText": "Four policy cards that can be revealed.",
        "transcript": "HR policies cover Equal Opportunity, Bullying & Harassment, Leave and Grievances. Find the latest versions on the intranet."
      },
      "coachGuidance": "",
      "interactivity": {
        "type": "Click-to-Reveal",
        "cards": [
          {
            "link": "/intranet/policies/equal-opportunity",
            "title": "Equal Opportunity",
            "summary": "We value diversity and inclusion."
          },
          {
            "link": "/intranet/policies/bullying-harassment",
            "title": "Bullying & Harassment",
            "summary": "Zero tolerance; how to report."
          },
          {
            "link": "/intranet/policies/leave-timesheets",
            "title": "Leave & Timesheets",
            "summary": "Applying leave, recording time."
          },
          {
            "link": "/intranet/policies/grievances",
            "title": "Grievances",
            "summary": "Raise issues fairly and promptly."
          }
        ],
        "logic": "Select a card to see summary and link."
      },
      "knowledgeCheck": null
    },
    {
      "layout": "MCQ",
      "animation": {
        "timing": "none",
        "animationType": "fade"
      },
      "branching": {
        "nextScene": 6,
        "branchingOptions": []
      },
      "voiceover": "Choose the best answer.",
      "sceneTitle": "Knowledge Check: Behaviour",
      "authorNotes": "",
      "mediaAssets": [],
      "sceneNumber": 5,
      "onScreenText": [],
      "accessibility": {
        "altText": "Multiple-choice card with three options.",
        "transcript": "Choose the best action that supports behaviour expectations."
      },
      "coachGuidance": "",
      "interactivity": {
        "type": "MCQ",
        "options": [
          "Ignoring unsafe behaviour to avoid conflict",
          "Reporting concerns early and respectfully",
          "Sharing sensitive HR documents externally"
        ],
        "question": "Which action best supports HVP's behaviour expectations?",
        "correctAnswer": "Reporting concerns early and respectfully",
        "correctFeedback": "Correct—early, respectful reporting is expected.",
        "incorrectFeedback": "We do not ignore risks or share confidential data. Reporting promptly is the right behaviour."
      },
      "knowledgeCheck": {
        "options": [
          "Ignoring unsafe behaviour to avoid conflict",
          "Reporting concerns early and respectfully",
          "Sharing sensitive HR documents externally"
        ],
        "scoring": "standard",
        

[…truncated…]
--- END CONTEXT ---

--- INTERACTION BLUEPRINTS (RAG – Chunks) ---
No chunk-level RAG available.
--- END BLUEPRINTS ---

INTERACTIVITY PROFILE (adhere strictly)
- Level: Level 3
- Target scenes: ~18 (±2)
- Minimum interactive scenes: 6
- Min knowledge check items total: 6
- Preferred types: Scenario, MCQ, Clickable Hotspots, Drag & Drop, Reflection, Interactive Video
- Max same type in a row: 2
- Branching required: Yes

HARD CONSTRAINTS
- Mix knowledge check formats (single, multi, scenario, drag-drop). Place a KC every **3–5 scenes**.
- Provide **option-level feedback** in developer notes for knowledge checks.
- Maintain variety; do not repeat the same interaction type > 2 times in a row.

--- USER BRIEF ---
Module Name: Remote Teams — Test
Module Type: eLearning
Complexity Level: Level 3
Target Duration (mins): 5
Audience: General staff
Tone: Professional, encouraging
Output Language: English (UK)
Organisation: Not specified
Learning Outcomes (desired): Author to propose 3–5 outcomes aligned to the brief.
Instructional Purpose: Not specified
Preferred Instructional Design Methodology: Not specified
Brand Guidelines: None provided
Colours: Default
Fonts: Default
Company Images (binary uploaded or URLs):
None provided
Additional Notes: None

--- SOURCE CONTENT (sanitised) ---
Create 2 short scenes about managing remote teams.
--- END USER BRIEF ---

QUALITY MANDATES
- First four screens must be: Title, Pronunciation Guide, Table of Contents, Welcome & Learning Objectives.
- Provide **3–5 Learning Outcomes** aligned to the brief and duration (~5 min).
- Each scene: structured audio directives, OST ≤ 70w, **AI Visual Generation Brief** with composition + lighting + HEX palette + mood + brand integration + negativeSpace, **overlayElements** with styles + AI directives, interaction details (logic/xAPI), and **timing**.
- Include **captions ON** by default, keyboard path hints and focus order.
- Use **UK English** throughout.
- Aim for Brandon Hall calibre: scenario practice, spaced retrieval, meaningful feedback, authentic language, practicality.

SPECIFICATION TEMPLATES (adapt as needed):
- visual.visualGenerationBrief must include:
  sceneDescription, style (Photorealistic / Vector / 3D Render / Flat), subject (who/what/action), setting, composition (camera/framing), lighting (type + temp), colorPalette (HEX), mood, brandIntegration, negativeSpace, assetId placeholder.
- overlayElements[]:
  { elementType, content, style { fontFamily, fontWeight, fontSize, color, alignment, position, padding, border, animation }, aiGenerationDirective }
- audio:
  full script + voiceParameters (persona, pace, tone, emphasis), optional backgroundMusic, and aiGenerationDirective.
- interactionDetails:
  aiActions, aiDecisionLogic (per-choice feedback + branching), retryLogic, completionRule, xAPI events[].
- timing.estimatedSeconds per scene; module-level rollup in metadata.moduleTiming.

OUTPUT RULES
- Return a single **JSON object only** (no markdown fences, no commentary).
- Use the exact schema above and include the first four scenes in order.
- Populate **both** the new structured fields and the legacy fields (narrationScript, aiPrompt, interactionType, interactionDescription, screenLayout short string) for compatibility with existing UI.

---

<< DO NOT DEVIATE — STORYBOARD BLUEPRINT v1 >>

OPENING (FIRST FOUR, IN ORDER)
1) Title
2) Pronunciation Guide
3) Table of Contents (include progress note)
4) Welcome & Learning Objectives (3–5 objectives)

CORE SCENES
- VO: ~75–150 words (~30–60s). Natural, conversational, ~140 WPM.
- OST: 5–30 words, never a verbatim VO copy.
- Visuals: Provide AI Visual Generation Brief (subject, setting, composition, lighting, HEX palette, mood, brand integration, negative space); alt text required.
- Interaction mapping:
  • lists → Flip Cards/Tabs/Accordion
  • comparison → Two-column / two-sided cards
  • process/timeline → Stepper/Timeline
  • components → Hotspots
  • nice-to-know → Accordion / Learn More pop-up

KNOWLEDGE CHECKS
- Place a KC every 3–5 scenes; mix MCQ / Scenario / Drag & Drop.
- Option-level feedback + retry (1–2 attempts before reveal).

CAPSTONE & CLOSE
- Capstone branching scenario with coaching feedback; xAPI verbs: responded/experienced.
- Summary (3–5 bullets); Completion statement with clear criteria; Thank you/Next steps.

CROSS-CUTTING
- Brand fonts/colours referenced in visuals & OST where relevant.
- Accessibility: captions ON; keyboard path + focus order; WCAG AA contrast; reduced-motion fallback.
- Timing metadata per scene; module roll-up in metadata.moduleTiming.

GOLDEN RATIOS
- ≥30–40% scenes interactive; ≥5 interaction types in a Level 3 module.
- KC cadence every 3–5 scenes. OST ≤ 70 words (hard cap).

---